import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{k as p,l as F,h as f,o as r,b as d,d as t,t as i,F as y,r as g,q as S,n as M,u as O,p as L,f as U}from"./index-e83da1a6.js";const b=u=>(L("data-v-b961cb2d"),u=u(),U(),u),W={class:"calendar_box"},E={class:"calender"},I={class:"calender_header"},N=b(()=>t("i",{class:"bx bxs-chevron-left"},null,-1)),C=[N],A=b(()=>t("i",{class:"bx bxs-chevron-right"},null,-1)),B=[A],R=b(()=>t("div",{class:"calender_week"},[t("div",null,"星期日"),t("div",null,"星期一"),t("div",null,"星期二"),t("div",null,"星期三"),t("div",null,"星期四"),t("div",null,"星期五"),t("div",null,"星期六")],-1)),H={class:"calender_day"},Y={__name:"CalendarTest",setup(u){const v=new Date,l=p(v.getFullYear()),n=p(v.getMonth()+1),T=F([{name:"代辦事項A",start_date:"2023/11/3",final_date:"2023/11/10"},{name:"代辦事項B",start_date:"2023/11/4",final_date:"2023/11/11"},{name:"代辦事項c",start_date:"2023/11/5",final_date:"2023/11/30"},{name:"代辦事項d",start_date:"2023/12/6",final_date:"2023/12/8"}]),h=f(()=>{const o=new Date(l.value,n.value-1,1);return o.setMonth(o.getMonth()+1),o.setDate(o.getDate()-1),o.getDate()}),D=f(()=>{const o=[],k=new Date(l.value,n.value-1,1),c=new Date(l.value,n.value-1,h.value),_=new Date(l.value,n.value-1,0).getDate();for(let a=0;a<k.getDay();a++){const s=new Date(l.value,n.value-2,_-a);let e=null;switch(s.getDay()){case 0:e="SUN";break;case 1:e="MON";break;case 2:e="TUE";break;case 3:e="WED";break;case 4:e="THU";break;case 5:e="FRI";break;case 6:e="SAT";break}o.unshift({Date:s,DayOfWeek:e,Format_Date:s.toLocaleDateString(),Today:_-a,ToDoList:[]})}for(let a=1;a<=h.value;a++){const s=new Date(l.value,n.value-1,a);let e=null;switch(s.getDay()){case 0:e="SUN";break;case 1:e="MON";break;case 2:e="TUE";break;case 3:e="WED";break;case 4:e="THU";break;case 5:e="FRI";break;case 6:e="SAT";break}o.push({Date:s,DayOfWeek:e,Format_Date:s.toLocaleDateString(),Today:a,ToDoList:[]})}for(let a=0;a<6-c.getDay();a++){const s=new Date(l.value,n.value,a+1);let e=null;switch(s.getDay()){case 0:e="SUN";break;case 1:e="MON";break;case 2:e="TUE";break;case 3:e="WED";break;case 4:e="THU";break;case 5:e="FRI";break;case 6:e="SAT";break}o.push({Date:s,DayOfWeek:e,Format_Date:s.toLocaleDateString(),Today:a+1,ToDoList:[]})}return o.forEach(a=>{const s=S(T).filter(e=>Date.parse(e.start_date)<=Date.parse(a.Format_Date)&&Date.parse(e.final_date)>=Date.parse(a.Format_Date));a.ToDoList.push(...s)}),o}),m=()=>{n.value-=1,n.value<1&&(n.value=12,l.value-=1),console.log(D.value)},w=()=>{n.value+=1,n.value>12&&(n.value=1,l.value+=1),console.log(D.value)};return(o,k)=>(r(),d("div",W,[t("div",E,[t("div",I,[t("button",{onClick:m},C),t("button",{onClick:w},B),t("span",null,i(l.value)+"年"+i(n.value)+"月",1)]),R,t("div",H,[(r(!0),d(y,null,g(D.value,(c,_)=>(r(),d("div",{key:_,class:M(["date_header",{active:c.Format_Date===O(v).toLocaleDateString()}])},[t("span",null,i(c.Today),1),(r(!0),d(y,null,g(c.ToDoList,(a,s)=>(r(),d("div",{key:s},i(a.name),1))),128))],2))),128))])])]))}},V=x(Y,[["__scopeId","data-v-b961cb2d"]]);export{V as default};
